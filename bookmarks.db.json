[{"id": "2024060314151246960247", "name": "Default", "is_active": false, "bookmarks": [{"location": {"col": 0, "path": "C:\\users\\dev\\AppData\\Local\\nvim\\lua\\rash\\init.lua", "line": 68}, "name": "kb-bookmarks", "created_at": 1717438512, "id": 1717438512, "githash": "4fad3a0", "visited_at": 1717438530, "content": "-- Bookmarks"}]}, {"id": "2024060314164164357528", "name": "sections", "is_active": false, "bookmarks": [{"location": {"col": 11, "path": "C:\\users\\dev\\AppData\\Local\\nvim\\lua\\rash\\init.lua", "line": 68}, "name": "kb_bookmarks", "created_at": 1717438615, "id": 1717438615, "githash": "4fad3a0", "visited_at": 1717438648, "content": "-- Bookmarks"}, {"location": {"col": 10, "path": "C:\\dev\\raptor\\api\\resources\\shipments\\stops\\stops.cfc", "line": 140}, "name": "", "created_at": 1717438859, "id": 1717438859, "githash": "00c9eb5074", "visited_at": 1717438859, "content": "      /* TODO: @A"}]}, {"id": "2024060314214630365242", "name": "jsToCfml", "is_active": false, "bookmarks": [{"location": {"col": 41, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\modules\\stops.js", "line": 306}, "name": "Calls savetoServer", "created_at": 1717439517, "id": 1717439517, "githash": "00c9eb5074", "visited_at": 1717439517, "content": "      const serverResult = await savetoServer({"}, {"location": {"col": 22, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\stops.js", "line": 17}, "name": "savetoServer is save in Ajax util", "created_at": 1717439546, "id": 1717439546, "githash": "00c9eb5074", "visited_at": 1717439566, "content": "export async function save({ id, updates, skipAlertProcessing = false }) { // NOTE: @G @c, this is likely stops/save"}, {"location": {"col": 25, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\stops.js", "line": 37}, "name": "save calls ajax.post", "created_at": 1717439591, "id": 1717439591, "githash": "00c9eb5074", "visited_at": 1717439591, "content": "  const res = await ajax.post(`save`, {"}, {"location": {"col": 4, "path": "C:\\dev\\raptor\\js\\src\\utility\\Ajax.js", "line": 129}, "name": "ajax.post calls ajaxUtil.post", "created_at": 1717439615, "id": 1717439615, "githash": "00c9eb5074", "visited_at": 1717439615, "content": "    post(endpoint, data) { // NOTE: @H"}, {"location": {"col": 22, "path": "C:\\dev\\raptor\\js\\src\\utility\\Ajax.js", "line": 31}, "name": "assigned to window.Edge.Ajax.post", "created_at": 1717439666, "id": 1717439666, "githash": "00c9eb5074", "visited_at": 1717439675, "content": "  post: window.Edge.Ajax.post, // NOTE: @I"}, {"location": {"col": 6, "path": "C:\\dev\\raptor\\js\\Ajax.js", "line": 125}, "name": "post -> create", "created_at": 1717439721, "id": 1717439721, "githash": "00c9eb5074", "visited_at": 1717439721, "content": "      create({ method, url, data, dataType = 'json', autoThrow = true, headers = {} } = {}) { // NOTE: @K"}, {"location": {"col": 6, "path": "C:\\dev\\raptor\\js\\Ajax.js", "line": 26}, "name": "create -> build", "created_at": 1717439736, "id": 1717439736, "githash": "00c9eb5074", "visited_at": 1717439736, "content": "      build({ ajaxConfig = {}, autoThrow = true } = {}) { // NOTE: @L"}, {"location": {"col": 7, "path": "C:\\dev\\raptor\\api\\resources\\shipments\\stops\\stops.cfc", "line": 148}, "name": "answer: /cfc/shipments/stops/ShipmentStopAPI?method=save", "created_at": 1717439920, "id": 1717439920, "githash": "00c9eb5074", "visited_at": 1717440218, "content": "       *      @Z -> ajaxUtil baseUrl set '/cfc/shipments/stops/ShipmentStopAPI.cfc?method=save'"}, {"location": {"col": 0, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 429}, "name": "Mapped function call", "created_at": 1717439435, "id": 1717439435, "githash": "00c9eb5074", "visited_at": 1717441167, "content": "async function saveStop(stop) {"}, {"location": {"col": 33, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 471}, "name": "Mapped function calls store.dispatch", "created_at": 1717439482, "id": 1717439482, "githash": "00c9eb5074", "visited_at": 1717441170, "content": "  const saveResult = await store.dispatch('stops/save', { // NOTE: stops/save"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\modules\\stops.js", "line": 286}, "name": "Store.dispatch -> save", "created_at": 1717439496, "id": 1717439496, "githash": "00c9eb5074", "visited_at": 1717441174, "content": "  async save(_, { id, updates, skipAlertProcessing = false }) {"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\cfc\\shipments\\stops\\ShipmentStopAPI.cfc", "line": 41}, "name": "API call goes here for each stop", "created_at": 1717439970, "id": 1717439970, "githash": "00c9eb5074", "visited_at": 1717442028, "content": "  remote string function save( // NOTE: @hj"}, {"location": {"col": 6, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 910}, "name": "updateStops -> this -> each batchStop.saveStop", "created_at": 1717439415, "id": 1717439415, "githash": "00c9eb5074", "visited_at": 1717502380, "content": "      const results = await Promise.all(batchStops.map(saveStop)); // NOTE: Loops through the batchStops and saves them"}, {"location": {"col": 24, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 831}, "name": "buttonEvent calls updateStops()", "created_at": 1717439110, "id": 1717439110, "githash": "00c9eb5074", "visited_at": 1717502451, "content": "async function updateStops(stops = []) {"}, {"location": {"col": 29, "path": "C:\\dev\\raptor\\shipments\\view\\shipment_stops_od_v2.cfm", "line": 137}, "name": "@Y stopIDList value = stopIdList", "created_at": 1717502983, "id": 1717502983, "githash": "00c9eb5074", "visited_at": 1717502983, "content": "  <input type=\"hidden\" name=\"stopIDList\" id=\"stopIDList\" value=\"#stopIdList#\">"}, {"location": {"col": 9, "path": "C:\\dev\\raptor\\shipments\\view\\shipment_stops_od_v2.cfm", "line": 21}, "name": "stopIdList @Y-1, def", "created_at": 1717503041, "id": 1717503041, "githash": "00c9eb5074", "visited_at": 1717503041, "content": "  <cfset stopIdList = valueList(qStopsForList.shipment_stop_id)>"}, {"location": {"col": 26, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 336}, "name": "@Z stops from $'#stopIDList'", "created_at": 1717502513, "id": 1717502513, "githash": "00c9eb5074", "visited_at": 1717503219, "content": "  const stopIds = $('#stopIDList')"}, {"location": {"col": 14, "path": "C:\\dev\\raptor\\shipments\\view\\shipment_stops_od_v2.cfm", "line": 20}, "name": "qStopsForList used in stopIdList @Y-2", "created_at": 1717503195, "id": 1717503195, "githash": "00c9eb5074", "visited_at": 1717503226, "content": "  <cfset qStopsForList = stopService.getStops(shipmentID : shipmentId, stopID: this_stop_id)>"}, {"location": {"col": 24, "path": "C:\\dev\\raptor\\cfc\\shipments\\stops\\ShipmentStopService.cfc", "line": 482}, "name": "@X getStops", "created_at": 1717503402, "id": 1717503402, "githash": "00c9eb5074", "visited_at": 1717503467, "content": "  public query function getStops("}, {"location": {"col": 5, "path": "C:\\dev\\raptor\\api\\taffy\\core\\resource.cfc", "line": 17}, "name": "@re[S]ponse taffy rep()", "created_at": 1717512960, "id": 1717512960, "githash": "00c9eb5074", "visited_at": 1717512960, "content": "\t<cffunction name=\"rep\" access=\"public\" output=\"false\" hint=\"alias for representationOf\">"}, {"location": {"col": 22, "path": "C:\\dev\\raptor\\api\\Resource.cfc", "line": 33}, "name": "@r[E]sponse ENTRY createResponse()", "created_at": 1717512719, "id": 1717512719, "githash": "00c9eb5074", "visited_at": 1717512973, "content": "  private api.utility.Response function createResponse("}, {"location": {"col": 36, "path": "C:\\dev\\raptor\\api\\Resource.cfc", "line": 61}, "name": "E@b - responseAsRep", "created_at": 1717513014, "id": 1717513014, "githash": "00c9eb5074", "visited_at": 1717513014, "content": "  private any function responseAsRep("}, {"location": {"col": 17, "path": "C:\\dev\\raptor\\api\\resources\\shipments\\stops\\stops.cfc", "line": 134}, "name": "@hh-b shipStopServ.updateSS", "created_at": 1717521671, "id": 1717521671, "githash": "00c9eb5074", "visited_at": 1717521671, "content": "      var updateResult = shipmentStopService.updateShipmentStop(shipmentStop);"}, {"location": {"col": 6, "path": "C:\\dev\\raptor\\js\\Ajax.js", "line": 271}, "name": "base Ajax.js -> post ", "created_at": 1717439706, "id": 1717439706, "githash": "00c9eb5074", "visited_at": 1717533919, "content": "      post({ url, data = {}, dataType = 'json', autoThrow = true } = {}) { // NOTE: @J"}, {"location": {"col": 22, "path": "C:\\dev\\raptor\\js\\src\\utility\\Ajax.js", "line": 130}, "name": "which calls post again", "created_at": 1717439640, "id": 1717439640, "githash": "00c9eb5074", "visited_at": 1717533960, "content": "      return ajaxUtil.post({ url: `${urlBase}${endpoint}`, data });"}, {"location": {"col": 0, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\stops.js", "line": 3}, "name": "@P - api endpoint base + save", "created_at": 1717534159, "id": 1717534159, "githash": "00c9eb5074", "visited_at": 1717534159, "content": "const ajax = createAjax('/cfc/shipments/stops/ShipmentStopAPI.cfc?method='); // NOTE: @Z"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 1020}, "name": "Button event", "created_at": 1717440822, "id": 1717440822, "githash": "00c9eb5074", "visited_at": 1717708797, "content": "  $.documentHook('click', 'click-save-shipment-stop', async function onClickSaveStop(e) {"}]}, {"id": "2024060614052023821661", "name": "ValidateStartAndStop", "is_active": false, "bookmarks": [{"location": {"col": 20, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 109}, "name": "#C: getFirstAndLastStop - parameter source ", "created_at": 1717697727, "id": 1717697727, "githash": "00c9eb5074", "visited_at": 1717697727, "content": "  const stops = getFirstAndLastStops();"}, {"location": {"col": 31, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 27}, "name": "@X [VC{X}Z] getFirstAndLastStops, HTML Source ", "created_at": 1717699221, "id": 1717699221, "githash": "00c9eb5074", "visited_at": 1717699235, "content": "function getFirstAndLastStops() {"}, {"location": {"col": 20, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 111}, "name": "@C [V{C}XZ] store.dispatch, parameters", "created_at": 1717699283, "id": 1717699283, "githash": "00c9eb5074", "visited_at": 1717699375, "content": "  const errors = await store.dispatch('stops/validateStartAndStop', {"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\modules\\stops.js", "line": 51}, "name": "@V", "created_at": 1717699368, "id": 1717699368, "githash": "00c9eb5074", "visited_at": 1717701025, "content": "  async validateStartAndStop(_, { pickDepartDatetime, delvArriveDatetime, delvDepartDatetime }) {"}, {"location": {"col": 6, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 837}, "name": "#S - validateFormFields, skipping", "created_at": 1717701676, "id": 1717701676, "githash": "00c9eb5074", "visited_at": 1717701676, "content": "    const { errors: validationErrors, warnings: validationWarnings } = await validateFormFields(stops);"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\index.js", "line": 24}, "name": "[SD{F}G] html src -> #is{F}reightVerifyCustomer", "created_at": 1717702418, "id": 1717702418, "githash": "00c9eb5074", "visited_at": 1717702433, "content": "    return () => NumberUtil.val($('#isFreightVerifyCustomer').val()) === 1;"}, {"location": {"col": 98, "path": "C:\\dev\\raptor\\shipments\\adv\\edi\\order_builder_main.cfm", "line": 125}, "name": "[SDF{G}] HTML Field", "created_at": 1717703051, "id": 1717703051, "githash": "00c9eb5074", "visited_at": 1717703051, "content": "\t\t\t\t\t\t<input type=\"hidden\" id=\"isFreightVerifyCustomer\" name=\"isFreightVerifyCustomer\" value=\"#qryCustomer.is_freightverify_enabled#\">"}, {"location": {"col": 11, "path": "C:\\dev\\raptor\\shipments\\adv\\edi\\order_builder_main.cfm", "line": 76}, "name": "#G @b - value def: qryCustomer", "created_at": 1717703149, "id": 1717703149, "githash": "00c9eb5074", "visited_at": 1717703149, "content": "\t\t\t<cfset qryCustomer = getWirebox()"}, {"location": {"col": 28, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 847}, "name": "#S @b - validateFreightVerifyData", "created_at": 1717701948, "id": 1717701948, "githash": "00c9eb5074", "visited_at": 1717704643, "content": "    const fvErrors = await validateFreightVerifyData({ stops, customerId });"}, {"location": {"col": 33, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\modules\\stops.js", "line": 178}, "name": "#D @b - IF isFreightVerifyCustomer THEN fn", "created_at": 1717704839, "id": 1717704839, "githash": "00c9eb5074", "visited_at": 1717705468, "content": "    const isValid = await isFreightVerifyLocationCodeValid({ customerId, siteId: stop.siteId });"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\stops.js", "line": 12}, "name": "[SD{&R}] *GET ShipmentStopAPI.validateFreightVerifyLocationCode  ", "created_at": 1717705436, "id": 1717705436, "githash": "00c9eb5074", "visited_at": 1717705997, "content": "  const res = await ajax.get(`validateFreightVerifyLocationCode`, { customerId, siteId });"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 822}, "name": "S[DFG..] {S}tart JS Validation ", "created_at": 1717701557, "id": 1717701557, "githash": "00c9eb5074", "visited_at": 1717708447, "content": "  const startStopValidationError = await validateStartAndStop();"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\stores\\shipments\\modules\\stops.js", "line": 164}, "name": "[S{D}FG] store.dispatch -> {this}", "created_at": 1717702225, "id": 1717702225, "githash": "00c9eb5074", "visited_at": 1717708997, "content": "  async validateFreightVerifyLocationCode({ rootGetters }, { customerId, stop }) {"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 848}, "name": "#S #b - Landon verified, skip", "created_at": 1717770322, "id": 1717770322, "githash": "00c9eb5074", "visited_at": 1717770322, "content": "    if (fvErrors.length) {"}, {"location": {"col": 4, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 854}, "name": "#S @e - lumper", "created_at": 1717770408, "id": 1717770408, "githash": "00c9eb5074", "visited_at": 1717770408, "content": "    const lumperErrors = await runLumperCheck(stops);"}, {"location": {"col": 15, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 779}, "name": "#S #e go def: runLumperCheck", "created_at": 1717770446, "id": 1717770446, "githash": "00c9eb5074", "visited_at": 1717770446, "content": "async function runLumperCheck(stops) {"}, {"location": {"col": 4, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 855}, "name": "#S #e - skipping. Landon assumes not needed. AND doesn't impact AL", "created_at": 1717771322, "id": 1717771322, "githash": "00c9eb5074", "visited_at": 1717771322, "content": "    if (lumperErrors.length) {"}, {"location": {"col": 4, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 861}, "name": "#S @f - duplicates check", "created_at": 1717771366, "id": 1717771366, "githash": "00c9eb5074", "visited_at": 1717771366, "content": "    const duplicateErrorText = (await runDuplicatesCheck({ stops, customerId })).join('\\n');"}, {"location": {"col": 14, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 902}, "name": "#S @g - post save actions?", "created_at": 1717785464, "id": 1717785464, "githash": "00c9eb5074", "visited_at": 1717785568, "content": "    await performPostSaveActions({ stopsSaved: errorsAndSuccesses.successes, shipmentId, customerId });"}, {"location": {"col": 13, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 798}, "name": "#S #f - def: runDuplicateCheck", "created_at": 1717785606, "id": 1717785606, "githash": "00c9eb5074", "visited_at": 1717785618, "content": "async function runDuplicatesCheck({ stops, customerId }) {"}, {"location": {"col": 22, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\index.js", "line": 77}, "name": "#Sf - checkForDuplicates definition", "created_at": 1717785702, "id": 1717785702, "githash": "00c9eb5074", "visited_at": 1717785717, "content": "export async function checkForDuplicates({ customerId, shipmentId, listToCheck, refNum }) {"}, {"location": {"col": 39, "path": "C:\\dev\\raptor\\js\\src\\api\\shipments\\index.js", "line": 80}, "name": "#Sf #b cfc-shipments.checkForDups()", "created_at": 1717785793, "id": 1717785793, "githash": "00c9eb5074", "visited_at": 1717785793, "content": "      '/cfc/shipments/shipments.cfc?method=checkForDups',"}, {"location": {"col": 19, "path": "C:\\dev\\raptor\\cfc\\shipments\\shipments.cfc", "line": 1544}, "name": "#Sf 2#b checkForDups def", "created_at": 1717785837, "id": 1717785837, "githash": "00c9eb5074", "visited_at": 1717785837, "content": "\t<cffunction name=\"checkForDups\" access=\"remote\" returntype=\"string\" returnformat=\"json\">"}, {"location": {"col": 16, "path": "C:\\dev\\raptor\\cfc\\shipments\\shipments.cfc", "line": 1545}, "name": "Z - checkForDups", "created_at": 1717786367, "id": 1717786367, "githash": "00c9eb5074", "visited_at": 1717786468, "content": "\t\t<cfargument name=\"customer_id\" type=\"numeric\" required=\"true\" />"}, {"location": {"col": 15, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 586}, "name": "#S #g - def: performPostSaveActions", "created_at": 1717786824, "id": 1717786824, "githash": "00c9eb5074", "visited_at": 1717786824, "content": "async function performPostSaveActions({ stopsSaved, shipmentId, customerId }) {"}, {"location": {"col": 4, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 903}, "name": "#Sg* Nope", "created_at": 1717787032, "id": 1717787032, "githash": "00c9eb5074", "visited_at": 1717787032, "content": "  } catch (err) {"}, {"location": {"col": 2, "path": "C:\\dev\\raptor\\js\\src\\modules\\shipments\\stops.js", "line": 761}, "name": "#S, X@c -> @d, fn validateFreight... store call", "created_at": 1717702045, "id": 1717702045, "githash": "00c9eb5074", "visited_at": 1717789058, "content": "  const fvValidations = await Promise.all(stops.map(stop => store.dispatch('stops/validateFreightVerifyLocationCode', { stop, customerId })));"}]}, {"id": "2024060717020341948109", "name": "BookAPIv2Legs", "is_active": true, "bookmarks": [{"location": {"col": 4, "path": "C:\\dev\\raptor\\cfc\\shipments\\legs\\ShipmentLegService.cfc", "line": 1319}, "name": "ShipmentLegService update", "created_at": 1717797131, "id": 1717797131, "githash": "8a107bb9a3", "visited_at": 1717797131, "content": "  public struct function update("}, {"location": {"col": 29, "path": "C:\\dev\\raptor\\cfc\\shipments\\shipment_carrier_callrates.cfc", "line": 389}, "name": "API calls this: bookOTRCarrierQuick", "created_at": 1717797209, "id": 1717797209, "githash": "8a107bb9a3", "visited_at": 1717797209, "content": "    <cffunction name=\"bookOTRCarrierQuick\" access=\"remote\" returntype=cfc.core.result.IResult>"}, {"location": {"col": 15, "path": "C:\\dev\\raptor\\api\\resources\\v2\\bookings.cfc", "line": 641}, "name": "bookings API -> fn bookCarrier -> crs.bookOTR...", "created_at": 1717797277, "id": 1717797277, "githash": "8a107bb9a3", "visited_at": 1717797349, "content": "    return callRateService.bookOTRCarrierQuick("}, {"location": {"col": 34, "path": "C:\\dev\\raptor\\api\\resources\\v2\\bookings.cfc", "line": 242}, "name": "END: Function ends here", "created_at": 1717797503, "id": 1717797503, "githash": "8a107bb9a3", "visited_at": 1717797503, "content": "    return responseAsRep(response, STATUS_CODES.OK);"}, {"location": {"col": 20, "path": "C:\\dev\\raptor\\cfc\\shipments\\legs\\ShipmentLegDAO.cfc", "line": 1536}, "name": "DAO Update shipment leg", "created_at": 1717797098, "id": 1717797098, "githash": "8a107bb9a3", "visited_at": 1717797541, "content": "  <cffunction name=\"update\" returntype=\"void\" access=\"package\" output=\"false\">"}, {"location": {"col": 34, "path": "C:\\dev\\raptor\\api\\resources\\v2\\bookings.cfc", "line": 204}, "name": "START: bookCarrier", "created_at": 1717797411, "id": 1717797411, "githash": "8a107bb9a3", "visited_at": 1717797939, "content": "    var bookCarrierResult = bookCarrier(booking, context);"}]}]